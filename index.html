<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Évaluation Agent d'Exploitation</title>
    <link rel="stylesheet" href="styles.css"> <!-- Liaison avec le CSS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <div class="container">
        <h1>ÉVALUATION AGENT D'EXPLOITATION</h1>
        <p>Veuillez remplir ce formulaire pour évaluer l'agent.</p>
        
        <form id="evaluationForm" action="https://formspree.io/f/TON_FORM_ID" method="POST">
            <div class="form-group">
                <label for="date">Date :</label>
                <input type="date" id="date" name="date" required>
            </div>
            
            <div class="form-group">
                <label for="nom_eval">Nom et prénom de l'agent évalué :</label>
                <input type="text" id="nom_eval" name="nom_eval" required>
            </div>
            
            <div class="form-group">
                <label for="matricule_eval">Matricule :</label>
                <input type="text" id="matricule_eval" name="matricule_eval" required>
            </div>
            
            <div class="form-group">
                <label for="evaluator_name">Nom de l'évaluateur :</label>
                <input type="text" id="evaluator_name" name="evaluator_name" required>
            </div>
            
            <h2>Évaluation des compétences</h2>
            
            <div class="form-group">
                <label for="competence1">Participation à la préparation de la mission :</label>
                <div class="slider-container">
                    <input type="range" id="competence1" name="competence1" min="0" max="4" step="1" value="0" class="slider" oninput="updateSliderValue(this)">
                    <span class="slider-value">0</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="competence2">Attentif à la radio, anticipe les directions, vigilant pendant les environnements :</label>
                <div class="slider-container">
                    <input type="range" id="competence2" name="competence2" min="0" max="4" step="1" value="0" class="slider" oninput="updateSliderValue(this)">
                    <span class="slider-value">0</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="competence3">Placements et déplacements :</label>
                <div class="slider-container">
                    <input type="range" id="competence3" name="competence3" min="0" max="4" step="1" value="0" class="slider" oninput="updateSliderValue(this)">
                    <span class="slider-value">0</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="competence4">Respect des consignes de son CDE :</label>
                <div class="slider-container">
                    <input type="range" id="competence4" name="competence4" min="0" max="4" step="1" value="0" class="slider" oninput="updateSliderValue(this)">
                    <span class="slider-value">0</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="competence5">Prise de contact :</label>
                <div class="slider-container">
                    <input type="range" id="competence5" name="competence5" min="0" max="4" step="1" value="0" class="slider" oninput="updateSliderValue(this)">
                    <span class="slider-value">0</span>
                </div>
            </div>
            
            <div class="photo-upload">
                <label for="photo">Photo de l'agent :</label>
                <input type="file" id="photo" name="photo" accept="image/*">
            </div>
            
            <div class="form-group">
                <label for="observation">Observation générale :</label>
                <textarea id="observation" name="observation" placeholder="Ajoutez des remarques..."></textarea>
            </div>
            
            <button type="submit" class="submit-btn">Envoyer</button>
        </form>
    </div>

    <script>
        function updateSliderValue(slider) {
            slider.nextElementSibling.textContent = slider.value;
        }

        document.getElementById("evaluationForm").addEventListener("submit", function(event) {
            event.preventDefault();
            
            fetch(this.action, {
                method: "POST",
                body: new FormData(this),
                headers: { "Accept": "application/json" }
            }).then(response => {
                if (response.ok) {
                    alert("Formulaire envoyé avec succès !");
                } else {
                    alert("Erreur lors de l'envoi.");
                }
            });
        });
    </script>
</body>
</html>
